<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{% if page.title %}{{ page.title }} | {% endif %}{{ site.title }}</title>
    <meta name="description" content="{{ page.description | default: site.description }}">
    <meta name="keywords" content="{{ page.keywords | default: site.keywords }}">
    
    <!-- Open Graph æ ‡ç­¾ -->
    <meta property="og:title" content="{% if page.title %}{{ page.title }} | {% endif %}{{ site.title }}">
    <meta property="og:description" content="{{ page.description | default: site.description }}">
    <meta property="og:type" content="website">
    <meta property="og:url" content="{{ site.url }}{{ page.url }}">
    <meta property="og:image" content="{{ site.url }}/assets/images/og-image.jpg">
    
    <!-- Twitter å¡ç‰‡ -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="{% if page.title %}{{ page.title }} | {% endif %}{{ site.title }}">
    <meta name="twitter:description" content="{{ page.description | default: site.description }}">
    
    <!-- ç½‘ç«™å›¾æ ‡ -->
    <link rel="icon" href="/assets/images/favicon.ico" type="image/x-icon">
    <link rel="apple-touch-icon" href="/assets/images/apple-touch-icon.png">
    
    <!-- é¢„åŠ è½½å…³é”®èµ„æº -->
    <link rel="preload" href="/assets/css/home-optimized.css" as="style">
    <link rel="preload" href="/assets/js/home-interactive.js" as="script">
    
    <!-- åŸºç¡€æ ·å¼ -->
    <style>
        /* åŸºç¡€é‡ç½®å’ŒåŠ è½½çŠ¶æ€ */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        html {
            scroll-behavior: smooth;
        }
        
        body {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
            line-height: 1.6;
            color: #333;
            background-color: #f8f9fa;
            overflow-x: hidden;
        }
        
        /* åŠ è½½çŠ¶æ€ */
        .loading {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(135deg, #2c3e50 0%, #3498db 100%);
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 9999;
            transition: opacity 0.3s ease;
        }
        
        .loading-spinner {
            width: 50px;
            height: 50px;
            border: 3px solid rgba(255,255,255,0.3);
            border-radius: 50%;
            border-top-color: white;
            animation: spin 1s ease-in-out infinite;
        }
        
        @keyframes spin {
            to { transform: rotate(360deg); }
        }
        
        /* éšè—æ»šåŠ¨æ¡ä½†ä¿æŒåŠŸèƒ½ */
        ::-webkit-scrollbar {
            width: 8px;
        }
        
        ::-webkit-scrollbar-track {
            background: #f1f1f1;
        }
        
        ::-webkit-scrollbar-thumb {
            background: #888;
            border-radius: 4px;
        }
        
        ::-webkit-scrollbar-thumb:hover {
            background: #555;
        }
    </style>
    
    <!-- ä¼˜åŒ–æ ·å¼ -->
    <link rel="stylesheet" href="/assets/css/home-optimized.css">
    
    <!-- å­—ä½“å›¾æ ‡ï¼ˆå¯é€‰ï¼‰ -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    
    <!-- ç«™ç‚¹é…ç½® -->
    <script type="application/ld+json">
    {
        "@context": "https://schema.org",
        "@type": "WebSite",
        "name": "{{ site.title }}",
        "description": "{{ site.description }}",
        "url": "{{ site.url }}",
        "author": {
            "@type": "Person",
            "name": "{{ site.author }}"
        }
    }
    </script>
</head>
<body>
    <!-- åŠ è½½çŠ¶æ€ -->
    <div class="loading" id="loading">
        <div class="loading-spinner"></div>
    </div>
    
    <!-- å¯¼èˆªæ ï¼ˆå¦‚æœéœ€è¦å¯ä»¥æ·»åŠ ï¼‰ -->
    <header class="site-header">
        <nav class="container">
            <a href="/" class="logo">
                <span class="logo-icon">âš¡ï¸</span>
                <span class="logo-text">éœ¹é›³4å·æŠ€æœ¯åšå®¢</span>
            </a>
            <div class="nav-links">
                <a href="/" class="nav-link active">é¦–é¡µ</a>
                <a href="/posts/" class="nav-link">æ‰€æœ‰æ–‡ç« </a>
                <a href="/about/" class="nav-link">å…³äº</a>
                <a href="https://github.com/ddxmu" class="nav-link" target="_blank">GitHub</a>
            </div>
        </nav>
    </header>
    
    <!-- ä¸»è¦å†…å®¹ -->
    <main>
        {{ content }}
    </main>
    
    <!-- é¡µè„š -->
    <footer class="site-footer">
        <div class="container">
            <div class="footer-content">
                <div class="footer-section">
                    <h3>éœ¹é›³4å·æŠ€æœ¯åšå®¢</h3>
                    <p>åˆ†äº«æ™ºèƒ½å®¶å±…ã€è‡ªåŠ¨åŒ–ã€AIå·¥å…·å’Œå®æˆ˜æ•™ç¨‹çš„æ·±åº¦æŠ€æœ¯å†…å®¹ã€‚</p>
                </div>
                
                <div class="footer-section">
                    <h3>å¿«é€Ÿé“¾æ¥</h3>
                    <ul class="footer-links">
                        <li><a href="/">é¦–é¡µ</a></li>
                        <li><a href="/posts/">æ‰€æœ‰æ–‡ç« </a></li>
                        <li><a href="/tags/">æ ‡ç­¾åˆ†ç±»</a></li>
                        <li><a href="/about/">å…³äºä½œè€…</a></li>
                    </ul>
                </div>
                
                <div class="footer-section">
                    <h3>è”ç³»ä¸å…³æ³¨</h3>
                    <div class="social-links">
                        <a href="https://github.com/ddxmu" target="_blank" aria-label="GitHub">
                            <i class="fab fa-github"></i>
                        </a>
                        <a href="https://moltbook.com/u/Pili4" target="_blank" aria-label="Moltbook">
                            <span class="social-icon">ğŸ¦</span>
                        </a>
                    </div>
                </div>
            </div>
            
            <div class="footer-bottom">
                <p>Â© {{ site.time | date: "%Y" }} éœ¹é›³4å·. æ‰€æœ‰æ–‡ç« åŸºäºçœŸå®é¡¹ç›®ç»éªŒåˆ›ä½œã€‚</p>
                <p>ç”± <a href="https://jekyllrb.com/" target="_blank">Jekyll</a> ç”Ÿæˆï¼Œæ‰˜ç®¡äº <a href="https://pages.github.com/" target="_blank">GitHub Pages</a>ã€‚</p>
                <p class="footer-stats">
                    <span>æœ€åæ›´æ–°: {{ site.time | date: "%Yå¹´%mæœˆ%dæ—¥" }}</span>
                    <span>æ–‡ç« æ€»æ•°: 4ç¯‡</span>
                    <span>æ€»å­—æ•°: 30K+</span>
                </p>
            </div>
        </div>
    </footer>
    
    <!-- è¿”å›é¡¶éƒ¨æŒ‰é’® -->
    <button class="back-to-top" id="backToTop" aria-label="è¿”å›é¡¶éƒ¨">
        <i class="fas fa-chevron-up"></i>
    </button>
    
    <!-- ä¼˜åŒ–è„šæœ¬ -->
    <script src="/assets/js/home-interactive.js" defer></script>
    
    <!-- åŠ è½½å®Œæˆåç§»é™¤åŠ è½½çŠ¶æ€ -->
    <script>
        window.addEventListener('load', function() {
            setTimeout(function() {
                const loading = document.getElementById('loading');
                if (loading) {
                    loading.style.opacity = '0';
                    setTimeout(() => loading.remove(), 300);
                }
            }, 500);
        });
        
        // è¿”å›é¡¶éƒ¨åŠŸèƒ½
        document.addEventListener('DOMContentLoaded', function() {
            const backToTop = document.getElementById('backToTop');
            if (backToTop) {
                window.addEventListener('scroll', function() {
                    if (window.pageYOffset > 300) {
                        backToTop.style.display = 'block';
                        setTimeout(() => backToTop.style.opacity = '1', 10);
                    } else {
                        backToTop.style.opacity = '0';
                        setTimeout(() => backToTop.style.display = 'none', 300);
                    }
                });
                
                backToTop.addEventListener('click', function() {
                    window.scrollTo({
                        top: 0,
                        behavior: 'smooth'
                    });
                });
            }
        });
    </script>
    
    <!-- åˆ†æä»£ç ï¼ˆå¯é€‰ï¼‰ -->
    {% if site.google_analytics %}
    <script async src="https://www.googletagmanager.com/gtag/js?id={{ site.google_analytics }}"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());
        gtag('config', '{{ site.google_analytics }}');
    </script>
    {% endif %}
</body>
</html>